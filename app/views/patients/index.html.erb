<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.11.2/datatables.min.css"/>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> 
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.11.2/datatables.min.js"></script>

<div>
    <h3><%=t '.title', :default => "Patient Registry" %></h3>
</div>
<div>
<table id="patients" class="table table-striped table-bordered" width="100%" cellspacing="0">
    <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Gender</th>
            <th>Date of Birth</th>
            <th style="text-align: center;">State</th>
            <th>City</th>
            <th style="width: 12.5%;">Actions</th>
        </tr>
    </thead>

    <tbody>
        <% (@patients || []).each do |patient| %>
            <tr>
                <td><%= link_to patient["first_name"],"/patient/#{patient['id']}"  %></td>
                <td><%= link_to patient["last_name"],"/patient/#{patient['id']}"  %></td>
                <td><%= patient.full_gender %></td>
                <td><%= patient.formatted_dob %></td>
                <td style="text-align: center;"><%= patient.state %></td>
                <td><%= patient.city%></td>
                <td style="text-align: center;">
                    <%= link_to "View","/patients/#{patient['id']}"  %>
                </td>
            </tr>
        <% end %>
    </tbody>
</table>
</div>


<script type="text/javascript">
    $(document).ready(function() {
        $('#patients').DataTable({
            "pageLength": 12,
            "lengthChange": false        
            });
    } );
</script>